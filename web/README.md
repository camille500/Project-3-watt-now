# Project-3-watt-now

## Table of contents
- [Concept](#concept)
- [Live link](#live)
- [Purpose](#purpose)
- [Todo](#todo)
- [datavisualisation](#datavisualisation)
- [Getting started](#modules)

![Dashboard](https://github.com/soraya2/Project-3-watt-now/blob/master/screenshots/screenshot_dashboard.jpg)


## Concept
The bycicles are connected to an adaptor that stores the energie. The adoptor has an energiemeter that measures how much energie is generated and sends the data throught the nodeMCU to the server. The event organizer sets a goal for that day. During the day the user gets realtime feedback of the progression that is made. The user gets to see a tree that will fill and updates every 30 seconds, and alternately the user gets to see videos and information about how much influance the CO2 saving is having on the sustainabilty. The deadline ends every day at 20.00. When the deadline ends there should be a an show reveal and a a confettie cannon to let the users know that the goal is met.

## <a name="live"></a>Live link

- [link](#https://p3-wottnow.herokuapp.com/)

### Purpose
The purpose of this project is to create awareness of sustainabilty movement and to let the user know how they help with reducing the amount of energie generated and by the remote generators.

## <a name="datavisualisation">kWh calculations
1 fiets levert c.a. 400 Watt per uur op bij constant gebruik. Op het festival moeten 100 fietsen komen te staan. Dat komt neer op 40 kWh per uur als alle fietsen constant worden gebruikt. Op het festival komen in totaal 100.000 bezoekers verdeeld over 74 uur (7 dagen). Wij gaan er vanuit dat de fietsen c.a. 6 uur per dag worden gebruikt. 42 uur * 40 kWh is een totaal van 1680 kWh dat tijdens het festival kan worden opgewekt.

Transformators hebben een gemiddeld verbruik van 1 liter diesel om 3.4 kWh op te wekken. 1680 / 3.4 is een besparing van c.a. 495 liter diesel. De huidige prijs is 1.266 euro per liter. Dat kom in totaal neer op een besparing van c.a. 645 euro.

Per liter diesel komt er c.a. 2640 gram CO2 in de lucht. 2640 gram * 495 = 1306kg minder CO2 uitstoot dankzij de stroom die is opgewekt met behulp van de fietsen

## <a name="datavisualisation"></a>Datavisualisation(D3)
We made the visualisation possible with d3.js and socket.io. So we created an API endpoint to which our server can talk. From our server we do an API request and get the data directly from the API. Our API is connected to the Node MCU which talks to the bicycle.

After we have done our request we receive an object. This object is emitted via socket.io to our client. Clientside we wrote a function that check for updates. Every datapoint is now received and ready to be presented. In d3.js we talk with the object. Based on the data we build a tree, which stands for the green energy that is being generated. This way the users get feedback on how much energy they are saving.


## <a name="datavisualisation"></a>UX
At the festival we have a location where we have 100 bicycles. Each bicycle is connected to an nodemcu. The nodemcu measures the power being generated by the bicycles. Our UX setup worked out nice. We have an empty tree that is being filled up by the energy generated by the festival customers. So we have an empty tree thats being filled by the energy generated by the customers at the festival.

### <a name="todo"></a>Wishlist

-  [] Live updates with the amount saved
-  [] Led scherm voor nodemcu with kWh value per bike


## <a name="started"></a> Getting started

Clone the repo and install the dependencies with
`$ npm install`

To start the app run
`$ npm run start`

Create your own .env file with these variables:

```
MONGODB_URI=<consumer_key>
SESSIONSECRET=<consumer_secret>
```

## <a name="live"></a> Sensors
 Led strip: ws2812
 reed sensors: MINI MAGNEETCONTACT
 https://www.hecke.com/magneet-contact/1518-mini-magneetcontact-5410329233358.html

## <a name="modules"></a> Nodemcu modules

### Cjson:
https://nodemcu.readthedocs.io/en/master/en/modules/cjson/

### file
https://nodemcu.readthedocs.io/en/master/en/modules/file/

### Gpio
https://nodemcu.readthedocs.io/en/master/en/modules/gpio/

### http
https://nodemcu.readthedocs.io/en/master/en/modules/http/

### net
https://nodemcu.readthedocs.io/en/master/en/modules/net/

### node
https://nodemcu.readthedocs.io/en/master/en/modules/node/

### pwm
https://nodemcu.readthedocs.io/en/master/en/modules/pwm/

### tmr
https://nodemcu.readthedocs.io/en/master/en/modules/tmr/

### uart
https://nodemcu.readthedocs.io/en/master/en/modules/uart/

### websocket
https://nodemcu.readthedocs.io/en/master/en/modules/websocket/

### wifi
https://nodemcu.readthedocs.io/en/master/en/modules/wifi/

### ws2812
https://nodemcu.readthedocs.io/en/master/en/modules/ws2812/

### tls
https://nodemcu.readthedocs.io/en/master/en/modules/tls/

